<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE refentry PUBLIC 
   "-//OASIS//DTD DocBook XML V4.1.2//EN"
   "docbook/docbookx.dtd">
<refentry id='repodiffer.1'>
<refmeta>
<refentrytitle>repodiffer</refentrytitle>
<manvolnum>1</manvolnum>
<refmiscinfo class='date'>Dec 07 2012</refmiscinfo>
<refmiscinfo class='productname'>repodiffer</refmiscinfo>
<refmiscinfo class='source'>repodiffer</refmiscinfo>
<refmiscinfo class='manual'>Development Tools</refmiscinfo>
</refmeta>
<refnamediv id='name'>
<refname>repodiffer</refname>
<refpurpose>report differences between repository histories</refpurpose>
</refnamediv>
<refsynopsisdiv id='synopsis'>

<cmdsynopsis>
  <command>repodiffer</command>
      <arg choice='opt'>--ignore <replaceable>parts</replaceable></arg>
      <arg choice='opt'>--verbose <replaceable>level</replaceable></arg>
      <arg choice='opt'>--show-equal</arg>
      <arg choice='opt'>--changes-only</arg>
      <arg choice='opt'>--treediff</arg>
      <arg choice='opt'>--full-hash</arg>
      <arg choice='opt'>--single <replaceable>id1=id2</replaceable></arg>
      <arg choice='plain'><replaceable>repo-or-stream1</replaceable></arg>
      <arg choice='plain'><replaceable>repo-or-stream2</replaceable></arg>
</cmdsynopsis>
</refsynopsisdiv>

<refsect1 id='description'><title>DESCRIPTION</title>

<para>This tool reports differences between two repository histories.
The histories may be presented as git repository directories or
as fast-import streams, or as one of each.</para>

<para>Revisions are first paired into correspondence by committer and
commit date.  Any revision in the left-hand (L) history that cannot be
paired with a revision in the right-hand (R) history is interpreted as
having been deleted; any revision in the R history that cannot be
paired with a revision in the L history is interpreted as having been
inserted.</para>

<para>For each changed, inserted, or deleted revision, a summary line
is emitted identifying it by commit ID (for a repo) or mark (for a
stream file) in the first history.  In change reports, the
corresponding revision in the second history is similarly identified
and the report indicates the nature of the changes.</para>

<para>A trailing statistics line summarizes the operation counts.</para>
</refsect1>

<refsect1 id='options'><title>OPTIONS</title>

<para>The --changes-only or -c option shows changes only, suppressing 
listing of insertions and deletions.</para>

<para>The --show-equal or -e option enables listing of equal commits.</para>

<para>The --single or -s option compares single commits in detail.  The
argument must be a pair of commit IDs (marks or hashes) separated by an
equals sign.</para>

<para>The --ignore or -i option causes differences between specified
parts to be ignored.  Part tags are as follows:</para>

<variablelist>
<varlistentry>
<term>author</term>
<listitem><para>Ignore differences in the (name part of the) 
author field.</para></listitem>
</varlistentry>
<varlistentry>
<term>authordate</term>
<listitem><para>Ignore differences in the author date part.</para></listitem>
</varlistentry>
<varlistentry>
<term>author</term>
<listitem><para>Ignore differences in the (name part of the) 
committer field.</para></listitem>
</varlistentry>
<varlistentry>
<term>authordate</term>
<listitem><para>Ignore differences in the commit date part</para></listitem>
</varlistentry>
<varlistentry>
<term>timezone</term>
<listitem><para>Apply a modulo 360 operation to timestamps before 
comparison, so as to ignore time-zone skew.</para></listitem>
</varlistentry>
<varlistentry>
<term>tree</term>
<listitem><para>Ignore tree-content differences.</para></listitem>
</varlistentry>
<varlistentry>
<term>gitignore</term>
<listitem><para>Ignore .gitignore and .cvsignore files when comparing
tree content.</para></listitem>
</varlistentry>
<varlistentry>
<term>email</term>
<listitem><para>Ignore email addresses when comparing names.  This 
can be useful when comparing two repositories translated from Subversion;
typically they'll have the Subversion Unix user ID as the name part of the
adress, but whether and how a host part is generated for the address varies.
</para></listitem>
</varlistentry>
</variablelist>

<para>One of these or a comma-separated list of several can be
specified.</para>

<para>The --fullhash or -f option forces reporting of full 40-digit
hash IDs, rather than the normal short hash.</para>

<para>The --verbose or -v option enables debugging messages that are
probably only of interest to developers; consult the source code for
details.</para>

</refsect1>

<refsect1 id='bugs'><title>BUGS</title>

<para>Parent pointers are not yet compared, so on multibranched repos
differences in DAG structure will not appear in the report.</para>

<para>Tags are not yet compared.</para>

<para>The above deficiencies are likely to be fixed in a future release.</para>

<para>When a blob changes, it causes tree differences to be reported in all
subsequent revisions containing the blob, rather than only the first commit
in which it occurs.  This probably will not be fixed; while it would be
theoretically possible, the computational cost of the comparison would 
become quite high.</para>

</refsect1>

<refsect1 id='author'><title>AUTHOR</title>

<para>Eric S. Raymond <email>esr@thyrsus.com</email>. This tool is
distributed with reposurgeon; see the project page at <ulink
url='http://www.catb.org/~esr/reposurgeon'>http://www.catb.org/~esr/reposurgeon</ulink>.</para>
</refsect1>
</refentry>
